import{C as e,e as a,f as t,g as s,B as i,h as l,T as o,i as r,P as n,j as d,k as u}from"../@arco-design/@arco-design.02825e82.js";import{u as c,l as p,w as v,s as m}from"../data/data.b5814fd9.js";import{u as f}from"../vue-router/vue-router.5c0bd928.js";import{a as j,_ as w}from"../../static/index-03977020.js";import{s as h}from"../pinia/pinia.a4fb185b.js";import{e as g,r as y,c as k,o as _,p as b,v as x,m as z,k as C,n as U,$ as O,y as T}from"../@vue/@vue.39664cb3.js";import"../resize-observer-polyfill/resize-observer-polyfill.ad543aa3.js";import"../compute-scroll-into-view/compute-scroll-into-view.2962e95c.js";import"../b-tween/b-tween.5055d79e.js";import"../dayjs/dayjs.37468663.js";import"../crypto-js/crypto-js.930e5814.js";import"../scroll-into-view-if-needed/scroll-into-view-if-needed.f139de06.js";import"../b-validate/b-validate.457088db.js";import"../number-precision/number-precision.d9b928a1.js";import"../lyc-storage/lyc-storage.5b5a1c46.js";import"../nprogress/nprogress.02fc88c0.js";const V={class:"home"},q={class:"header"},I={class:"left"},M={class:"right"},$={class:"footer"},A=w(g({__name:"index",setup(w){const g=f(),{userData:A,curMenu:B}=h(c()),D=y([]),E=y(""),K=y(1),L=y(10),P=k((()=>A.value.filter((e=>e.name.includes(E.value))).slice((K.value-1)*L.value,K.value*L.value))),S=()=>{if(0==D.value.length)return s.error("请先选中需要删除的绘图记录！");v({title:"批量删除选择",content:"确认批量删除选中的绘图记录吗，此操作不可撤销",onOk:()=>{A.value=A.value.filter((e=>!D.value.includes(e.id))),D.value=[]}})};return _((()=>{window.addEventListener("beforeunload",(()=>{p.set("user_data",A.value)}))})),(s,c)=>{const p=i,v=l,f=o,w=r,h=n,y=d,k=u,_=e;return C(),b("div",V,[x(_,null,{default:z((()=>[U("div",q,[U("div",I,[x(p,{type:"primary",status:"danger",onClick:S},{icon:z((()=>[x(O(a))])),default:z((()=>[T(" 批量删除 ")])),_:1})]),U("div",M,[x(v,{modelValue:E.value,"onUpdate:modelValue":c[0]||(c[0]=e=>E.value=e),placeholder:"请输入名字进行搜索"},null,8,["modelValue"])])]),x(y,{data:P.value,pagination:!1,"row-key":"id","selected-keys":D.value,"onUpdate:selectedKeys":c[1]||(c[1]=e=>D.value=e),"row-selection":{showCheckedAll:!0,fixed:!0}},{columns:z((()=>[x(f,{title:"名字",width:200,"data-index":"name"}),x(f,{title:"描述",width:500,ellipsis:"",tooltip:"","data-index":"name"}),x(f,{title:"保存时间",width:250,"data-index":"createTime"}),x(f,{title:"修改时间",width:250,"data-index":"updateTime"}),x(f,{title:"操作"},{cell:z((({record:e})=>[x(w,{onClick:a=>(e=>{B.value=[j],m.set("curMenu",B.value),g.push({path:j,query:{id:e.id}})})(e)},{icon:z((()=>[x(O(t))])),default:z((()=>[T(" 编辑 ")])),_:2},1032,["onClick"]),x(h,{content:`确认删除${e.name}吗?`,onOk:a=>(e=>{const a=A.value.findIndex((a=>a.id==e));A.value.splice(a,1)})(e.id)},{default:z((()=>[x(w,{status:"danger"},{icon:z((()=>[x(O(a))])),default:z((()=>[T(" 删除 ")])),_:1})])),_:2},1032,["content","onOk"])])),_:1})])),_:1},8,["data","selected-keys"]),U("div",$,[x(k,{total:O(A).length,current:K.value,"onUpdate:current":c[2]||(c[2]=e=>K.value=e),"page-size":L.value,"onUpdate:pageSize":c[3]||(c[3]=e=>L.value=e),"page-size-options":[10,20,30,40,50],"show-total":"","show-jumper":"","show-page-size":""},null,8,["total","current","page-size"])])])),_:1})])}}}),[["__scopeId","data-v-4fc3a109"]]);export{A as default};
