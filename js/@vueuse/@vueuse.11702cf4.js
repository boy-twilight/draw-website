import{g as e,o as t,C as n,w as r,$ as o,a0 as i,a1 as a,r as s,J as u,a2 as l}from"../@vue/@vue.39664cb3.js";function c(e){return"function"==typeof e?e():o(e)}const f="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const d=Object.prototype.toString,m=e=>"[object Object]"===d.call(e),p=()=>{},v=g();function g(){var e;return f&&(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function w(e,t){return function(...n){return new Promise(((r,o)=>{Promise.resolve(e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})).then(r).catch(o)}))}}const y=e=>e();function h(e,t=200,n={}){return w(function(e,t={}){let n,r,o=p;const i=e=>{clearTimeout(e),o(),o=p};return a=>{const s=c(e),u=c(t.maxWait);return n&&i(n),s<=0||void 0!==u&&u<=0?(r&&(i(r),r=null),Promise.resolve(a())):new Promise(((e,l)=>{o=t.rejectOnCancel?l:e,u&&!r&&(r=setTimeout((()=>{n&&i(n),r=null,e(a())}),u)),n=setTimeout((()=>{r&&i(r),r=null,e(a())}),s)}))}}(t,n),e)}function b(e,t,n={}){const{eventFilter:o,...i}=n,{eventFilter:a,pause:l,resume:c,isActive:f}=function(e=y){const t=s(!0);return{isActive:u(t),pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...n)=>{t.value&&e(...n)}}}(o),d=function(e,t,n={}){const{eventFilter:o=y,...i}=n;return r(e,w(o,t),i)}(e,t,{...i,eventFilter:a});return{stop:d,pause:l,resume:c,isActive:f}}function A(r,o=!0){e()?t(r):o?r():n(r)}function S(e,t,n){return r(e,((e,n,r)=>{e&&t(e,n,r)}),n)}function E(e){var t;const n=c(e);return null!=(t=null==n?void 0:n.$el)?t:n}const N=f?window:void 0;function O(...e){let t,n,o,s;if("string"==typeof e[0]||Array.isArray(e[0])?([n,o,s]=e,t=N):[t,n,o,s]=e,!t)return p;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const u=[],l=()=>{u.forEach((e=>e())),u.length=0},f=r((()=>[E(t),c(s)]),(([e,t])=>{if(l(),!e)return;const r=m(t)?{...t}:t;u.push(...n.flatMap((t=>o.map((n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,r))))))}),{immediate:!0,flush:"post"}),d=()=>{f(),l()};var v;return v=d,i()&&a(v),d}let j=!1;function F(e,t,n={}){const{window:r=N,ignore:o=[],capture:i=!0,detectIframe:a=!1}=n;if(!r)return;v&&!j&&(j=!0,Array.from(r.document.body.children).forEach((e=>e.addEventListener("click",p))),r.document.documentElement.addEventListener("click",p));let s=!0;const u=e=>o.some((t=>{if("string"==typeof t)return Array.from(r.document.querySelectorAll(t)).some((t=>t===e.target||e.composedPath().includes(t)));{const n=E(t);return n&&(e.target===n||e.composedPath().includes(n))}})),l=[O(r,"click",(n=>{const r=E(e);r&&r!==n.target&&!n.composedPath().includes(r)&&(0===n.detail&&(s=!u(n)),s?t(n):s=!0)}),{passive:!0,capture:i}),O(r,"pointerdown",(t=>{const n=E(e);s=!u(t)&&!(!n||t.composedPath().includes(n))}),{passive:!0}),a&&O(r,"blur",(n=>{setTimeout((()=>{var o;const i=E(e);"IFRAME"!==(null==(o=r.document.activeElement)?void 0:o.tagName)||(null==i?void 0:i.contains(r.document.activeElement))||t(n)}),0)}))].filter(Boolean);return()=>l.forEach((e=>e()))}const P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},k="__vueuse_ssr_handlers__",I=T();function T(){return k in P||(P[k]=P[k]||{}),P[k]}const J={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},_="vueuse-storage";function D(e,t,r,o={}){var i;const{flush:a="pre",deep:u=!0,listenToStorageChanges:f=!0,writeDefaults:d=!0,mergeDefaults:m=!1,shallow:p,window:v=N,eventFilter:g,onError:w=(e=>{}),initOnMounted:y}=o,h=(p?l:s)("function"==typeof t?t():t);if(!r)try{r=function(e,t){return I[e]||t}("getDefaultStorage",(()=>{var e;return null==(e=N)?void 0:e.localStorage}))()}catch(D){w(D)}if(!r)return h;const S=c(t),E=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(S),j=null!=(i=o.serializer)?i:J[E],{pause:F,resume:P}=b(h,(()=>function(t){try{if(null==t)r.removeItem(e);else{const n=j.write(t),o=r.getItem(e);o!==n&&(r.setItem(e,n),v&&v.dispatchEvent(new CustomEvent(_,{detail:{key:e,oldValue:o,newValue:n,storageArea:r}})))}}catch(D){w(D)}}(h.value)),{flush:a,deep:u,eventFilter:g});return v&&f&&A((()=>{O(v,"storage",T),O(v,_,k),y&&T()})),y||T(),h;function k(e){T(e.detail)}function T(t){if(!t||t.storageArea===r)if(t&&null==t.key)h.value=S;else if(!t||t.key===e){F();try{(null==t?void 0:t.newValue)!==j.write(h.value)&&(h.value=function(t){const n=t?t.newValue:r.getItem(e);if(null==n)return d&&null!==S&&r.setItem(e,j.write(S)),S;if(!t&&m){const e=j.read(n);return"function"==typeof m?m(e,S):"object"!==E||Array.isArray(e)?e:{...S,...e}}return"string"!=typeof n?n:j.read(n)}(t))}catch(D){w(D)}finally{t?n(P):P()}}}}function M(e,t,n={}){const{window:r=N}=n;return D(e,t,null==r?void 0:r.localStorage,n)}export{M as a,F as o,A as t,h as u,S as w};
